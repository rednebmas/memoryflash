@import './typography.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@font-face {
	font-family: 'Inter';
	src: url('/fonts/Inter-VariableFont_opszwght.ttf') format('truetype');
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

html {
	font-family: 'Inter', sans-serif;
}

* {
	box-sizing: border-box;
}

html,
body,
#root {
	@apply bg-app text-fg;
	width: 100vw;
	height: 100vh;
	margin: 0 auto;
}

/*
 * Semantic color utilities
 * Use these instead of raw Tailwind colors for automatic dark mode support
 */

/* Backgrounds */
.bg-app {
	@apply bg-lm-bg dark:bg-dm-bg;
}

.bg-surface {
	@apply bg-lm-surface dark:bg-dm-surface;
}

.bg-elevated {
	@apply bg-lm-elevated dark:bg-dm-elevated;
}

.bg-slightly-elevated {
	@apply bg-lm-slightlyElevated dark:bg-dm-slightlyElevated;
}

/* Text */
.text-fg {
	@apply text-lm-fg dark:text-dm-fg;
}

.text-muted {
	@apply text-lm-muted dark:text-dm-muted;
}

/* Borders */
.border-default {
	@apply border-lm-border dark:border-dm-border;
}

.divide-default {
	@apply divide-lm-border dark:divide-dm-border;
}

.ring-default {
	@apply ring-lm-border dark:ring-dm-border;
}

/* Hover states */
.hover\:bg-elevated:hover {
	@apply bg-lm-elevated dark:bg-dm-elevated;
}

/* Card utilities */
.card-border {
	@apply border border-default;
}

.card-container {
	@apply bg-surface rounded-2xl card-border py-3 px-5;
}

.card-shadow-1 {
	box-shadow: -10px 20px 20px 0px rgba(0, 0, 0, 0.2);
}

.card-shadow-2 {
	box-shadow: -4px 10px 20px 0px rgba(0, 0, 0, 0.2);
}

.card-shadow-3 {
	box-shadow: 4px 10px 20px 0px rgba(0, 0, 0, 0.2);
}

.card-shadow-4 {
	box-shadow: 10px 10px 20px 0px rgba(0, 0, 0, 0.2);
}

/* Music notation */
.highlight {
	@apply fill-green-500 stroke-green-500 dark:fill-purple-700 dark:stroke-purple-700;
}

.answered {
	@apply fill-green-500 stroke-green-500 dark:fill-purple-700 dark:stroke-purple-700;
}

@media (prefers-color-scheme: dark) {
	.svg-dark-mode {
		filter: invert(100%);
	}
}

/* Third-party overrides */
.dark .recharts-tooltip-label {
	@apply text-black;
}

/* Card animations */
@keyframes card-correct {
	0% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
	100% {
		transform: scale(1);
	}
}

@keyframes card-incorrect {
	0%,
	100% {
		transform: translateY(0);
	}
	20% {
		transform: translateY(-4px);
	}
	40% {
		transform: translateY(4px);
	}
	60% {
		transform: translateY(-3px);
	}
	80% {
		transform: translateY(2px);
	}
}

.animate-card-correct {
	animation: card-correct 0.3s ease-in-out;
}

.animate-card-incorrect {
	animation: card-incorrect 0.4s ease-in-out;
}

@keyframes confetti {
	0% {
		transform: translateY(0) rotate(0deg) scale(1);
		opacity: 1;
	}
	100% {
		transform: translateY(-150px) rotate(720deg) scale(0);
		opacity: 0;
	}
}

.animate-confetti {
	animation: confetti 1s ease-out forwards;
}
